<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Live Team Board</title>

  <style>
    :root{
      --bg:#f8f9fb;
      --card:#ffffff;
      --border:#e6e6e6;
      --text:#111;
      --muted:#666;
    }

    body { font-family: Arial, sans-serif; margin: 20px; background:var(--bg); color:var(--text); }
    .wrap { max-width: 1200px; margin: 0 auto; }

    /* Top nav */
    .topnav{
      background:#fff; border:1px solid var(--border); border-radius:14px;
      padding:12px 16px; margin-bottom:14px; box-shadow:0 1px 2px rgba(0,0,0,.04);
      display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:12px;
    }
    .brand{ font-weight:bold; font-size:16px; text-decoration:none; color:var(--text); }
    .nav-links{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }

    .btn{
      display:inline-block; padding:8px 12px; border:1px solid #ddd; border-radius:10px;
      text-decoration:none; color:var(--text); background:#fff; font-size:13px; cursor:pointer;
    }
    .btn:hover{ border-color:#cfcfcf; }
    .pill{
      padding:8px 12px; border:1px solid #ddd; border-radius:999px;
      background:#fff; font-size:13px; color:#444;
    }

    /* Header */
    .header{
      background:#fff; border:1px solid var(--border); border-radius:14px;
      padding:16px; margin-bottom:14px; box-shadow:0 1px 2px rgba(0,0,0,.04);
    }
    .header h1{ margin:0; font-size:20px; }
    .sub{ color:var(--muted); margin-top:4px; font-size:13px; }

    /* Responsive grid for teams */
    .teams-grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }
    @media (min-width: 980px){
      .teams-grid{ grid-template-columns: 1fr 1fr; }
    }

    /* Team cards */
    .teamcard{
      background:#fff; border:1px solid var(--border); border-radius:14px;
      padding:16px; box-shadow:0 1px 2px rgba(0,0,0,.04);
    }
    .teamname{ font-weight:bold; font-size:16px; margin-bottom:10px; }

    table{ width:100%; border-collapse:collapse; font-size:14px; }
    th, td{ border-bottom:1px solid #eee; padding:10px; text-align:left; vertical-align:top; }
    th{ background:#fafafa; font-weight:bold; }
    .pos{ width:56px; font-weight:bold; color:#555; }
    .benchhead{ margin-top:12px; font-weight:bold; color:#444; }
    .empty{ color:#777; font-size:14px; padding:10px 0; font-style:italic; }

    /* Phone friendly */
    @media (max-width: 600px) {
      body { margin: 10px; }
      .wrap { max-width: 100%; }
      .topnav { padding: 10px 12px; gap: 8px; }
      .btn { padding: 8px 10px; font-size: 12px; }
      .pill { padding: 7px 10px; font-size: 12px; }
      .header, .teamcard { padding: 12px; }
      table { font-size: 13px; }
      th, td { padding: 8px 6px; }
      .pos { width: 44px; }
    }

    /* Print / PDF */
    @media print {
      .topnav { display: none; }
      body { background: #fff; margin: 0; }
      .header, .teamcard {
        box-shadow: none;
        border: none;
        border-radius: 0;
        padding: 10px 0;
      }
      .teams-grid{ display:block; }
      th { background: #fff; }
      th, td { border-bottom: 1px solid #ccc; }
    }
  </style>
</head>

<body>
  <div class="wrap">

    <div class="topnav">
      <a class="brand" href="/">Bobbies Portal</a>

      <div class="nav-links">
        <a class="btn" href="/">Home</a>
        <a class="btn" href="/live-board/">Team</a>
        <a class="btn" href="/bulletin/">Bulletin</a>
        <button class="btn" onclick="window.print()">Print / PDF</button>
      </div>

      <div>
        {% if user.is_authenticated %}
          <span class="pill">Logged in: <b>{{ user.username }}</b></span>
          <a class="btn" href="/admin/logout/?next=/">Logout</a>
        {% else %}
          <a class="btn" href="/admin/login/?next=/">Login</a>
        {% endif %}
      </div>
    </div>

    <div class="header">
      <h1>Live Team Board</h1>
      <div class="sub">Read-only team selection (safe to share).</div>
    </div>

    {% if not board %}
      <div class="teamcard">
        <div class="empty">No team board found yet. Create the board in Admin (TeamSelection) and add slots.</div>
      </div>
    {% else %}

      <div class="teams-grid">
        {% for t in teams %}
          <div class="teamcard">
            <div class="teamname">{{ t.team.name }}</div>

            <table>
              <thead>
                <tr>
                  <th class="pos">#</th>
                  <th>Player</th>
                </tr>
              </thead>
              <tbody>
                {% for s in t.starters %}
                  <tr>
                    <td class="pos">{{ s.slot_number }}</td>
                    <td>{% if s.player %}{{ s.player }}{% else %}<span class="empty">— empty —</span>{% endif %}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>

            <div class="benchhead">Bench</div>

            <table>
              <thead>
                <tr>
                  <th class="pos">#</th>
                  <th>Player</th>
                </tr>
              </thead>
              <tbody>
                {% for s in t.bench %}
                  <tr>
                    <td class="pos">{{ s.slot_number }}</td>
                    <td>{% if s.player %}{{ s.player }}{% else %}<span class="empty">— empty —</span>{% endif %}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>

          </div>
        {% endfor %}
      </div>

    {% endif %}

  </div>
</body>
</html>
